import{a as f}from"./index.becf6c0c.js";import{_}from"./Road.c8b00677.js";import{R as d}from"./RoadItem.501c29fb.js";import{_ as v}from"./RoadItemRouter.01cba742.js";import{I as g}from"./ImageBox.670f955e.js";import{_ as y,j as w,o as l,c as i,a as s,w as r,b as n,F as h,d as c,i as D,f as u,t as b}from"./index.c61e25c2.js";const I={key:0,class:"wrap"},$=u("\u6D3B\u52D5\u82B1\u7D6E"),E={class:"flex flex-wrap justify-between"},N=["onClick"],k=["src"],x={class:"mb-10 w-80 bg-slate-600 invisible"},C={ref:"Modal",class:"fixed bottom-0 left-0 z-50 hidden w-full h-screen bg-black-05"},M={class:"absolute top-0 bottom-0 left-0 right-0 max-w-5xl m-auto h-4/5"},V={data(){return{albumName:null,albumEventData:null,imgs:[],fixed:0,path:"Albums/"+this.$route.params.albumID+"/"+this.$route.params.albumEventID}},methods:{LoadJson(){let e=this.$route.params.albumID,t=this.$route.params.albumEventID;e&&t&&f.get("Data/Albums/"+e+"/"+t+"/albumEventContent.json").then(a=>{this.albumEventData=a.data,this.fixed=4-this.albumEventData.imgsCount;for(let o=1;o<=this.albumEventData.imgsCount;o++)this.imgs.push("img ("+o+").jpg");switch(e){case"Records":this.albumName="\u6D3B\u52D5\u7D00\u9304";break;case"PreExhibitions":this.albumName="\u5C55\u524D\u82B1\u7D6E";break}}).catch(a=>{console.log(a),this.ToNotFound()})},ToNotFound(){this.$router.push({name:"NotFound",params:{pathMatch:this.$route.path.substring(1).split("/")},query:this.$route.query,hash:this.$route.hash})},openModal(e){this.$refs.Modal.style.display="block",document.body.style.overflow="hidden",this.$emitter.emit("emitIndex",e)},closeModal(){this.$refs.Modal.style.display="none",document.body.style.overflow="scroll"}},watch:{$route:"LoadJson"},created(){this.LoadJson()},mounted(){},unmounted(){document.body.style.overflow="scroll"}},j=Object.assign(V,{setup(e){return(t,a)=>{const o=w("ion-icon");return t.albumEventData!=null?(l(),i("div",I,[s(_,{class:"mb-10"},{default:r(()=>[s(d,null,{default:r(()=>[$]),_:1}),s(v,{href:"/Albums/"+t.$route.params.albumID},{default:r(()=>[u(b(t.albumName),1)]),_:1},8,["href"]),s(d,null,{default:r(()=>[u(b(t.albumEventData.title),1)]),_:1})]),_:1}),n("div",E,[(l(!0),i(h,null,c(t.imgs,(m,p)=>(l(),i("button",{onClick:A=>t.openModal(p)},[n("img",{src:"Data/"+t.path+"/Image/"+m,class:"mb-10 w-80 rounded-xl"},null,8,k)],8,N))),256)),(l(!0),i(h,null,c(t.fixed,m=>(l(),i("div",x))),256))]),n("div",C,[n("div",M,[n("button",{onClick:a[0]||(a[0]=(...m)=>t.closeModal&&t.closeModal(...m)),class:"absolute right-5 top-5 z-50"},[s(o,{name:"close-outline"})]),s(g,{path:t.path,img:t.imgs,time:3e3,auto:!1,dot:!1,emitIndex:t.emitIndex},null,8,["path","img","emitIndex"])])],512)])):D("",!0)}}});var q=y(j,[["__scopeId","data-v-2c48552a"]]);export{q as default};
