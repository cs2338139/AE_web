import{a as _}from"./index.becf6c0c.js";import{_ as $}from"./Road.31e5d759.js";import{R as h}from"./RoadItem.1f5124ff.js";import{_ as g}from"./RoadItemRouter.46da098c.js";import{I as v}from"./ImageBox.578d1d7b.js";import{_ as w}from"./ElementPanel.8df2f30f.js";import{_ as y,j as C,o as n,c as m,a as o,b as l,w as u,F as r,d as f,i as c,f as d,t as b}from"./index.c4a20ebe.js";/* empty css                                                       */const D={class:"wrap"},I=d("\u6D3B\u52D5\u82B1\u7D6E"),E={class:"flex flex-wrap justify-between lg:justify-around"},x=["onClick"],k=["src"],N={class:"mb-10 w-80 bg-slate-600 invisible"},M={ref:"Modal",class:"fixed bottom-0 left-0 z-50 hidden w-full h-screen bg-black-05"},j={class:"absolute top-0 bottom-0 left-0 right-0 max-w-5xl m-auto aspect-image"},V={data(){return{albumName:null,albumEventData:null,imgs:[],fixedCount:0,path:"Albums/"+this.$route.params.albumID+"/"+this.$route.params.albumEventID}},methods:{LoadJson(){let a=this.$route.params.albumID,t=this.$route.params.albumEventID;a&&t&&_.get("Data/Albums/"+a+"/"+t+"/albumEventContent.json").then(i=>{this.albumEventData=i.data;let e=4;this.$windowWidth<=this.$sm?e=2:this.$windowWidth<=this.$md||this.$windowWidth<=this.$lg||this.$windowWidth<=this.$xl?e=3:this.$windowWidth<=this.$2xl&&(e=4),this.fixedCount=e-this.albumEventData.imgsCount%e,this.fixedCount===e&&(this.fixedCount=0);for(let s=1;s<=this.albumEventData.imgsCount;s++)this.imgs.push("img ("+s+").jpg");switch(a){case"Records":this.albumName="\u6D3B\u52D5\u7D00\u9304";break;case"PreExhibitions":this.albumName="\u5C55\u89BD\u82B1\u7D6E";break}}).catch(i=>{console.log(i),this.ToNotFound()})},ToNotFound(){this.$router.push({name:"NotFound",params:{pathMatch:this.$route.path.substring(1).split("/")},query:this.$route.query,hash:this.$route.hash})},openModal(a){this.$refs.Modal.style.display="block",document.body.style.overflow="hidden",this.$emitter.emit("emitIndex",a)},closeModal(){this.$refs.Modal.style.display="none",document.body.style.overflow="scroll"}},watch:{$route:"LoadJson"},created(){this.LoadJson()},mounted(){},updated(){this.$refs.element&&this.$refs.element.ReSet()},unmounted(){document.body.style.overflow="scroll"}},A=Object.assign(V,{setup(a){return(t,i)=>{const e=C("ion-icon");return t.albumEventData!=null?(n(),m(r,{key:0},[o(w,{ref:"element"},null,512),l("div",D,[o($,{class:"mb-10"},{default:u(()=>[o(h,null,{default:u(()=>[I]),_:1}),o(g,{href:"/Albums/"+t.$route.params.albumID},{default:u(()=>[d(b(t.albumName),1)]),_:1},8,["href"]),o(h,null,{default:u(()=>[d(b(t.albumEventData.title),1)]),_:1})]),_:1}),l("div",E,[(n(!0),m(r,null,f(t.imgs,(s,p)=>(n(),m("button",{onClick:F=>t.openModal(p)},[l("img",{src:"Data/"+t.path+"/Image/"+s,class:"mb-10 w-80 lg:w-60 md:w-40"},null,8,k)],8,x))),256)),t.fixedCount>0?(n(!0),m(r,{key:0},f(t.fixedCount,s=>(n(),m("div",N))),256)):c("",!0)]),l("div",M,[l("div",j,[l("button",{onClick:i[0]||(i[0]=(...s)=>t.closeModal&&t.closeModal(...s)),class:"absolute right-5 top-5 z-50"},[o(e,{name:"close-outline"})]),o(v,{path:t.path,img:t.imgs,time:3e3,auto:!1,dot:!1,emitIndex:t.emitIndex},null,8,["path","img","emitIndex"])])],512)])],64)):c("",!0)}}});var S=y(A,[["__scopeId","data-v-2c58611c"]]);export{S as default};
