import{a as w}from"./index.becf6c0c.js";import{_ as b}from"./Road.488d398b.js";import{R as $}from"./RoadItem.d0425d72.js";import{o,e as c,w as r,b as h,r as v,u as C,R as E,f as n,c as u,a as d,t as m,F as f,d as p,n as V,_ as A,i as L,k as g,x as k}from"./index.c0e86c47.js";import{_ as y}from"./ElementPanel.9eea1c78.js";import{_ as x}from"./RoadItemRouter.3963063d.js";import{I as D}from"./ImageBox.f7b54f32.js";/* empty css                                                       */const N={class:"w-4/5 mx-auto mt-5 md:w-52 sm:w-full sm:px-3"},F=["src"],M={class:"mt-4 mb-2 text-center md:text-sm text-bg-0-Color"},P=n("\u65E5\u671F\u6642\u9593"),j={class:"flex flex-col items-center justify-center h-16 mt-2 text-lg text-center my-7 md:text-base text-bg-0-Color"},S={class:""},W=n("\u540D\u7A31"),T={class:""},I=n("\u540D\u7A312"),R={props:{img:String,href:String},setup(e){return(t,s)=>(o(),c(C(E),{to:e.href,class:"relative mb-20 w-72 md:w-64 rounded-3xl bg-text-1-Color"},{default:r(()=>[h("div",N,[h("img",{src:e.img,class:"text-center border-2 w-80 rounded-2xl border-bg-0-Color"},null,8,F),h("div",M,[v(t.$slots,"date",{},()=>[P])]),h("div",j,[h("div",S,[v(t.$slots,"title",{},()=>[W])]),h("div",T,[v(t.$slots,"title2",{},()=>[I])])])])]),_:3},8,["to"]))}};const q={class:"wrap"},O=n("\u6D3B\u52D5\u82B1\u7D6E"),B={class:"flex flex-wrap justify-between xl:justify-around max-w-5xl mx-auto"},J={data(){return{flag:!1,data:{title:"",list:[]},href:[],img:[],path:[]}},methods:{CheckPath(){let e=this.$route.fullPath.split("/"),t=e.slice(2,e.length-1);for(let i=0;i<t.length;i++){let a="";i!=0?a=this.path[i-1].href+"/"+t[i]:a=t[i];var s={title:this.$props.dictionary[t[i]],href:a};this.path.push(s)}},LoadJson(){w.get("Data"+this.$route.fullPath+"/List.json").then(e=>{this.data=e.data;for(let l=0;l<this.data.list.length;l++)this.data.list[l].Enable===!1?(this.href[l]="",this.img[l]="Data/Other/ComingSoon.jpg"):(this.href[l]=this.$route.fullPath+"/"+this.data.list[l].href,this.img[l]="Data"+this.$route.fullPath+"/"+this.data.list[l].href+"/cover.jpg");for(let l=0;l<this.data.list.length;l++){let _=this.data.list[l].title.split("\uFF1A");_.length===2?(this.data.list[l].title=_[0]+"\uFF1A",this.data.list[l].title2=_[1]):this.data.list[l].title2=""}let t=4;this.$windowWidth<=this.$sm?t=1:this.$windowWidth<=this.$md||this.$windowWidth<=this.$lg||this.$windowWidth<=this.$xl?t=2:this.$windowWidth<=this.$2xl&&(t=3);var s=t-this.data.list.length%t;s===t&&(s=0);for(var i={index:"0",title:"none",tip:""},a=0;a<s;a++)this.data.list.push(i),this.href.push("");this.CheckPath()}).catch(e=>{console.log(e),this.ToNotFound()})},ToNotFound(){this.$router.push({name:"NotFound",params:{pathMatch:this.$route.path.substring(1).split("/")},query:this.$route.query,hash:this.$route.hash})}},watch:{},created(){this.LoadJson()},updated(){this.$refs.element&&this.$refs.element.ReSet()}},z=Object.assign(J,{props:{dictionary:Array},setup(e){return(t,s)=>(o(),u(f,null,[d(y,{ref:"element"},null,512),h("div",q,[d(b,{class:"mb-10"},{title:r(()=>[n(m(t.data.title),1)]),default:r(()=>[d($,null,{default:r(()=>[O]),_:1}),(o(!0),u(f,null,p(t.path,i=>(o(),c(x,{href:"/Albums/"+i.href},{default:r(()=>[n(m(i.title),1)]),_:2},1032,["href"]))),256)),d($,null,{default:r(()=>[n(m(t.data.title),1)]),_:1})]),_:1}),h("div",B,[(o(!0),u(f,null,p(t.data.list,(i,a)=>(o(),c(R,{href:t.href[a],img:t.img[a],class:V({invisible:i.title==="none"})},{date:r(()=>[n(m(i.date),1)]),title:r(()=>[n(m(i.title),1)]),title2:r(()=>[n(m(i.title2),1)]),_:2},1032,["href","img","class"]))),256))])])],64))}});const X={class:"wrap"},G=n("\u6D3B\u52D5\u82B1\u7D6E"),H={class:"flex flex-wrap justify-between lg:justify-around"},K=["onClick"],Q=["src"],U={class:"mb-10 w-80 bg-slate-600 invisible"},Y={class:"absolute top-0 bottom-0 left-0 right-0 max-w-5xl m-auto aspect-image bg-black"},Z={data(){return{albumName:null,albumEventData:{title:"",imgsCount:0},imgs:[],fixedCount:0,path:[]}},methods:{CheckPath(){let e=this.$route.fullPath.split("/"),t=e.slice(2,e.length-1);for(let i=0;i<t.length;i++){let a="";i!=0?a=this.path[i-1].href+"/"+t[i]:a=t[i];var s={title:this.$props.dictionary[t[i]],href:a};this.path.push(s)}},LoadJson(){w.get("Data"+this.$route.fullPath+"/List.json").then(e=>{this.albumEventData=e.data;let t=4;this.$windowWidth<=this.$sm?t=2:this.$windowWidth<=this.$md||this.$windowWidth<=this.$lg||this.$windowWidth<=this.$xl?t=3:this.$windowWidth<=this.$2xl&&(t=4),this.fixedCount=t-this.albumEventData.imgsCount%t,this.fixedCount===t&&(this.fixedCount=0);for(let s=1;s<=this.albumEventData.imgsCount;s++)this.imgs.push("img ("+s+").jpg");this.CheckPath()}).catch(e=>{console.log(e),this.ToNotFound()})},ToNotFound(){this.$router.push({name:"NotFound",params:{pathMatch:this.$route.path.substring(1).split("/")},query:this.$route.query,hash:this.$route.hash})},openModal(e){this.$refs.Modal.style.display="block",document.body.style.overflow="hidden",this.$emitter.emit("emitIndex",e)},closeModal(){this.$refs.Modal.style.display="none",document.body.style.overflow="scroll"}},watch:{},created(){this.LoadJson()},updated(){this.$refs.element&&this.$refs.element.ReSet()},unmounted(){document.body.style.overflow="scroll"}},tt=Object.assign(Z,{props:{dictionary:Array},setup(e){return(t,s)=>{const i=L("ion-icon");return o(),u(f,null,[d(y,{ref:"element"},null,512),h("div",X,[d(b,{class:"mb-10"},{title:r(()=>[n(m(t.albumEventData.title),1)]),default:r(()=>[d($,null,{default:r(()=>[G]),_:1}),(o(!0),u(f,null,p(t.path,a=>(o(),c(x,{href:"/Albums/"+a.href},{default:r(()=>[n(m(a.title),1)]),_:2},1032,["href"]))),256)),d($,null,{default:r(()=>[n(m(t.albumEventData.title),1)]),_:1})]),_:1}),h("div",H,[(o(!0),u(f,null,p(t.imgs,(a,l)=>(o(),u("button",{onClick:_=>t.openModal(l)},[h("img",{src:"Data"+t.$route.fullPath+"/Image/"+a,class:"mb-10 w-80 lg:w-60 md:w-40"},null,8,Q)],8,K))),256)),t.fixedCount>0?(o(!0),u(f,{key:0},p(t.fixedCount,a=>(o(),u("div",U))),256)):g("",!0)]),h("div",{ref:"Modal",class:"fixed bottom-0 left-0 z-50 hidden w-full h-screen bg-black-05",onClick:s[1]||(s[1]=k((...a)=>t.closeModal&&t.closeModal(...a),["self"]))},[h("div",Y,[h("button",{onClick:s[0]||(s[0]=(...a)=>t.closeModal&&t.closeModal(...a)),class:"absolute right-5 top-5 z-50"},[d(i,{class:"X_Icon sm:text-2xl",name:"close-outline"})]),d(D,{path:t.$route.fullPath,img:t.imgs,time:3e3,auto:!1,dot:!1,emitIndex:t.emitIndex,class:"absolute top-1/2 -translate-y-1/2"},null,8,["path","img","emitIndex"])])],512)])],64)}}});var et=A(tt,[["__scopeId","data-v-3d24e786"]]);const st={data(){return{current:null,path:"",dictionary:{Exhibition:"\u5C55\u89BD\u82B1\u7D6E",Activity:"\u6D3B\u52D5\u7D00\u9304",Pre:"\u5C55\u524D\u82B1\u7D6E",Reserve:"\u9810\u7D04\u5C0E\u89BD",Visit:"\u53C3\u89C0\u82B1\u7D6E",Opening:"\u958B\u5E55\u82B1\u7D6E",Promote:"\u63A8\u5EE3\u6D3B\u52D5",Meeting:"\u7814\u7FD2\u71DF",Child:"\u5152\u7AE5\u7F8E\u5B78\u6D3B\u52D5",WorkShops:"\u5DE5\u4F5C\u574A",Forums:"\u5206\u4EAB\u6703"}}},components:{},methods:{SwitchViews(){if(this.$route.params.albumID){var e=this.$route.params.albumID;if(e=="Exhibition")if(!this.$route.params.albumEventLv0ID)this.current="AlbumListView",this.path=e;else{var t=this.$route.params.albumEventLv0ID;if(t=="Pre"||t=="Visit")this.current="AlbumEventView",this.path=e+"/"+t;else if(t=="Reserve")if(!this.$route.params.albumEventLv1ID)this.current="AlbumListView",this.path=e+"/"+t;else{var s=this.$route.params.albumEventLv1ID;this.current="AlbumEventView",this.path=e+"/"+t+"/"+s}else this.ToNotFound()}else if(e=="Activity")if(!this.$route.params.albumEventLv0ID)this.current="AlbumListView",this.path=e;else{var t=this.$route.params.albumEventLv0ID;if(t=="Opening")this.current="AlbumEventView",this.path=e+"/"+t;else if(t=="Promote")if(!this.$route.params.albumEventLv1ID)this.current="AlbumListView",this.path=e+"/"+t;else{var s=this.$route.params.albumEventLv1ID;if(s=="Meeting")this.current="AlbumEventView",this.path=e+"/"+t+"/"+s;else if(s=="Child"||s=="WorkShops"||s=="Forums")if(!this.$route.params.albumEventLv2ID)this.current="AlbumListView",this.path=e+"/"+t+"/"+s;else{var i=this.$route.params.albumEventLv2ID;this.current="AlbumEventView",this.path=e+"/"+t+"/"+s+"/"+i}else this.ToNotFound()}else this.ToNotFound()}else this.ToNotFound()}},ToNotFound(){this.$router.push({name:"NotFound",params:{pathMatch:this.$route.path.substring(1).split("/")},query:this.$route.query,hash:this.$route.hash})}},watch:{$route:"SwitchViews"},created(){this.SwitchViews()},updated(){}},dt=Object.assign(st,{setup(e){return(t,s)=>(o(),u(f,null,[t.current==="AlbumEventView"?(o(),c(et,{key:this.path,dictionary:t.dictionary},null,8,["dictionary"])):g("",!0),t.current==="AlbumListView"?(o(),c(z,{key:this.path,dictionary:t.dictionary},null,8,["dictionary"])):g("",!0)],64))}});export{dt as default};
