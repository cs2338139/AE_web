import{a as c}from"./index.becf6c0c.js";import{_ as d}from"./Road.aef54b4b.js";import{R as f}from"./RoadItem.4bfd9cba.js";import{_ as u}from"./RoadItemRouter.a350faf9.js";import{_}from"./EventContentItem.175415c3.js";import{_ as g}from"./ElementPanel.36d4369f.js";import{o as p,c as v,a as n,b as l,w as i,f as s,t as r,F as D}from"./index.629d490a.js";/* empty css                                                       */import"./ImageBox.bcd19c37.js";const $={class:"wrap mb-20"},b=s("\u63A8\u5EE3\u6D3B\u52D5"),y=s("\u5206\u4EAB\u6703"),I=s("\u5206\u4EAB\u6703"),w={class:"absolute w-full bottom-0 -z-50"},F=l("div",{class:"bg-bg-0-image h-8"},null,-1),k={class:"bg-bg-2-Color h-0",ref:"bg"},B={data(){return{Data:{title:"",date:"",time:"",place:"",link:"",info:[],teacher:"",teacherInfo:[],imgs:[]},interval:null}},methods:{LoadJson(){let o=this.$route.params.activityID,t=this.$route.params.eventID;o==="Forums"&&t&&c.get("Data/Activities/"+o+"/"+t+"/ForumContent.json").then(e=>{this.Data=e.data}).catch(e=>{console.log(e),this.ToNotFound()})},GetTargetHeight(o,t,e){const h=Math.floor(document.body.scrollHeight-(o.getBoundingClientRect().top+window.scrollY));if(t[0].main.clientHeight!=h){for(let a=0;a<t.length;a++)t[a].main.style.height=h+t[a].offset+"px";for(let a=0;a<e.length;a++){let m;e[a].offset!=0?m=e[a].main.clientHeight/e[a].offset:m=0,e[a].main.style.bottom=h-m+"px"}this.$refs.element&&this.$refs.element.ReSet()}},ToNotFound(){this.$router.push({name:"NotFound",params:{pathMatch:this.$route.path.substring(1).split("/")},query:this.$route.query,hash:this.$route.hash})}},watch:{$route:"LoadJson"},created(){this.LoadJson()},mounted(){let o=document.getElementById("place");this.$windowWidth>this.$lg&&(o=document.getElementById("info"));let t=[{main:this.$refs.bg,offset:0}],e=[];this.interval=setInterval(()=>{this.GetTargetHeight(o,t,e)},100)},unmounted(){clearInterval(this.interval)}},j=Object.assign(B,{setup(o){return(t,e)=>(p(),v(D,null,[n(g,{ref:"element"},null,512),l("div",$,[n(d,{class:"mb-10"},{title:i(()=>[I]),default:i(()=>[n(f,null,{default:i(()=>[b]),_:1}),n(u,{href:"/activities/Forums"},{default:i(()=>[y]),_:1}),n(f,null,{default:i(()=>[s(r(t.Data.title),1)]),_:1})]),_:1}),n(_,{howTo:"\u5831\u540D\u65B9\u5F0F\uFF5C\u63A1\u7DDA\u4E0A\u5831\u540D\u3002",place:"\u4E0A\u8AB2\u5730\u9EDE\uFF5C"+t.Data.place,target:"\u53C3\u8207\u5C0D\u8C61\uFF5C\u516C\u52D9\u4EBA\u54E1\u3001\u6559\u5E2B\u3001\u5B78\u751F\u53CA\u4E00\u822C\u6C11\u773E\u3002",img:t.Data.imgs,link:t.Data.link,info:t.Data.info,needLink:!0,teacherInfo:t.Data.teacherInfo,tip:"\u7814\u7FD2\u6642\u6578\uFF5C"+t.Data.tip,ref:"target"},{date:i(()=>[s(r(t.Data.date),1)]),time:i(()=>[s(r(t.Data.time),1)]),title:i(()=>[s(r(t.Data.title),1)]),teacher:i(()=>[s("\u6F14\u8B1B\u8005\uFF5C"+r(t.Data.teacher),1)]),_:1},8,["place","img","link","info","teacherInfo","tip"])]),l("div",w,[F,l("div",k,null,512)])],64))}});export{j as default};
